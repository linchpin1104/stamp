"use strict";exports.id=941,exports.ids=[941],exports.modules={27479:(e,r,t)=>{t.d(r,{d:()=>R});var a=t(60687),n=t(43210),l=t(70569),s=t(98599),i=t(11273),o=t(65551),d=t(83721),c=t(18853),u=t(14163),m="Switch",[p,f]=(0,i.A)(m),[h,x]=p(m),g=n.forwardRef((e,r)=>{let{__scopeSwitch:t,name:i,checked:d,defaultChecked:c,required:m,disabled:p,value:f="on",onCheckedChange:x,form:g,...j}=e,[b,w]=n.useState(null),R=(0,s.s)(r,e=>w(e)),k=n.useRef(!1),N=!b||g||!!b.closest("form"),[I=!1,C]=(0,o.i)({prop:d,defaultProp:c,onChange:x});return(0,a.jsxs)(h,{scope:t,checked:I,disabled:p,children:[(0,a.jsx)(u.sG.button,{type:"button",role:"switch","aria-checked":I,"aria-required":m,"data-state":y(I),"data-disabled":p?"":void 0,disabled:p,value:f,...j,ref:R,onClick:(0,l.m)(e.onClick,e=>{C(e=>!e),N&&(k.current=e.isPropagationStopped(),k.current||e.stopPropagation())})}),N&&(0,a.jsx)(v,{control:b,bubbles:!k.current,name:i,value:f,checked:I,required:m,disabled:p,form:g,style:{transform:"translateX(-100%)"}})]})});g.displayName=m;var j="SwitchThumb",b=n.forwardRef((e,r)=>{let{__scopeSwitch:t,...n}=e,l=x(j,t);return(0,a.jsx)(u.sG.span,{"data-state":y(l.checked),"data-disabled":l.disabled?"":void 0,...n,ref:r})});b.displayName=j;var v=e=>{let{control:r,checked:t,bubbles:l=!0,...s}=e,i=n.useRef(null),o=(0,d.Z)(t),u=(0,c.X)(r);return n.useEffect(()=>{let e=i.current,r=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(o!==t&&r){let a=new Event("click",{bubbles:l});r.call(e,t),e.dispatchEvent(a)}},[o,t,l]),(0,a.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...s,tabIndex:-1,ref:i,style:{...e.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function y(e){return e?"checked":"unchecked"}var w=t(4780);let R=n.forwardRef(({className:e,...r},t)=>(0,a.jsx)(g,{className:(0,w.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...r,ref:t,children:(0,a.jsx)(b,{className:(0,w.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));R.displayName=g.displayName},30474:(e,r,t)=>{t.d(r,{default:()=>n.a});var a=t(31261),n=t.n(a)},31261:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),!function(e,r){for(var t in r)Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}(r,{default:function(){return o},getImageProps:function(){return i}});let a=t(14985),n=t(44953),l=t(46533),s=a._(t(1933));function i(e){let{props:r}=(0,n.getImgProps)(e,{defaultLoader:s.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,t]of Object.entries(r))void 0===t&&delete r[e];return{props:r}}let o=l.Image},34729:(e,r,t)=>{t.d(r,{T:()=>s});var a=t(60687),n=t(43210),l=t(4780);let s=n.forwardRef(({className:e,...r},t)=>(0,a.jsx)("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:t,...r}));s.displayName="Textarea"},55817:(e,r,t)=>{t.d(r,{A:()=>a});let a=(0,t(82614).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},56967:(e,r,t)=>{t.d(r,{x:()=>x});var a=t(60687),n=t(27605),l=t(63442),s=t(45880),i=t(29523),o=t(89667),d=t(34729),c=t(71669),u=t(27479),m=t(30474),p=t(43210),f=t(80013);let h=s.Ik({title:s.Yj().optional(),description:s.Yj().optional(),imageUrl:s.Yj().min(1,"Image URL or uploaded image is required."),linkUrl:s.Yj().url({message:"Please enter a valid URL for the link."}).optional().or(s.eu("")),order:s.au.number().min(0,"Order must be a positive number."),isActive:s.zM().default(!0)});function x({initialData:e,onSubmit:r,onCancel:t}){let s=(0,n.mN)({resolver:(0,l.u)(h),defaultValues:e||{title:"",description:"",imageUrl:"",linkUrl:"",order:0,isActive:!0}}),[x,g]=(0,p.useState)(null);return(0,a.jsx)(c.lV,{...s,children:(0,a.jsxs)("form",{onSubmit:s.handleSubmit(e=>{r(e)}),className:"space-y-6",children:[(0,a.jsx)(c.zB,{control:s.control,name:"title",render:({field:e})=>(0,a.jsxs)(c.eI,{children:[(0,a.jsx)(c.lR,{children:"Banner Title (Optional)"}),(0,a.jsx)(c.MJ,{children:(0,a.jsx)(o.p,{placeholder:"e.g., Summer Special Offer",...e})}),(0,a.jsx)(c.Rr,{children:"A short, catchy title for the banner."}),(0,a.jsx)(c.C5,{})]})}),(0,a.jsx)(c.zB,{control:s.control,name:"description",render:({field:e})=>(0,a.jsxs)(c.eI,{children:[(0,a.jsx)(c.lR,{children:"Banner Description (Optional)"}),(0,a.jsx)(c.MJ,{children:(0,a.jsx)(d.T,{placeholder:"e.g., Explore our new programs and get 20% off!",...e,rows:3})}),(0,a.jsx)(c.Rr,{children:"A brief description or call to action."}),(0,a.jsx)(c.C5,{})]})}),(0,a.jsxs)(c.eI,{children:[(0,a.jsx)(c.lR,{children:"Upload Banner Image"}),(0,a.jsx)(c.MJ,{children:(0,a.jsx)(o.p,{type:"file",accept:"image/*",onChange:r=>{let t=r.target.files?.[0];if(t){let e=new FileReader;e.onloadend=()=>{let r=e.result;s.setValue("imageUrl",r,{shouldValidate:!0,shouldDirty:!0}),g(r)},e.readAsDataURL(t)}else e?.imageUrl&&!e.imageUrl.startsWith("data:")?(s.setValue("imageUrl",e.imageUrl,{shouldValidate:!0,shouldDirty:!0}),g(e.imageUrl)):x?.startsWith("data:")&&(s.setValue("imageUrl","",{shouldValidate:!0,shouldDirty:!0}),g(null))},className:"file:text-primary file:font-medium file:bg-primary/10 hover:file:bg-primary/20"})}),(0,a.jsx)(c.Rr,{children:"Upload an image (e.g., JPG, PNG). This will set the image URL below."})]}),(0,a.jsx)(c.zB,{control:s.control,name:"imageUrl",render:({field:e})=>(0,a.jsxs)(c.eI,{children:[(0,a.jsx)(c.lR,{children:"Image URL (or use upload above)"}),(0,a.jsx)(c.MJ,{children:(0,a.jsx)(o.p,{type:"text",placeholder:"https://example.com/banner-image.jpg or will be auto-filled by upload",...e,onChange:r=>{e.onChange(r),r.target.value.startsWith("data:")||g(r.target.value||null)}})}),(0,a.jsx)(c.Rr,{children:"Direct URL to an image, or auto-populated if you upload an image."}),(0,a.jsx)(c.C5,{})]})}),x&&(0,a.jsxs)("div",{className:"mt-2 space-y-1",children:[(0,a.jsx)(f.J,{children:"Image Preview:"}),(0,a.jsx)(m.default,{src:x,alt:"Banner preview",width:300,height:150,className:"rounded-md border object-contain aspect-[2/1] bg-muted/50",unoptimized:x.startsWith("data:")})]}),(0,a.jsx)(c.zB,{control:s.control,name:"linkUrl",render:({field:e})=>(0,a.jsxs)(c.eI,{children:[(0,a.jsx)(c.lR,{children:"Link URL (Optional)"}),(0,a.jsx)(c.MJ,{children:(0,a.jsx)(o.p,{type:"url",placeholder:"https://example.com/target-page",...e})}),(0,a.jsx)(c.Rr,{children:"Where the banner should link to when clicked."}),(0,a.jsx)(c.C5,{})]})}),(0,a.jsx)(c.zB,{control:s.control,name:"order",render:({field:e})=>(0,a.jsxs)(c.eI,{children:[(0,a.jsx)(c.lR,{children:"Display Order"}),(0,a.jsx)(c.MJ,{children:(0,a.jsx)(o.p,{type:"number",...e})}),(0,a.jsx)(c.Rr,{children:"Order in which banners appear (lower numbers first)."}),(0,a.jsx)(c.C5,{})]})}),(0,a.jsx)(c.zB,{control:s.control,name:"isActive",render:({field:e})=>(0,a.jsxs)(c.eI,{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(c.lR,{children:"Active Status"}),(0,a.jsx)(c.Rr,{children:"Set whether this banner is currently active and displayed on the homepage."})]}),(0,a.jsx)(c.MJ,{children:(0,a.jsx)(u.d,{checked:e.value,onCheckedChange:e.onChange})})]})}),(0,a.jsxs)("div",{className:"flex justify-end space-x-2 pt-4",children:[(0,a.jsx)(i.$,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),(0,a.jsx)(i.$,{type:"submit",className:"bg-accent hover:bg-accent/90 text-accent-foreground",children:e?"Update Banner":"Create Banner"})]})]})})}},71669:(e,r,t)=>{t.d(r,{C5:()=>j,MJ:()=>x,Rr:()=>g,eI:()=>f,lR:()=>h,lV:()=>d,zB:()=>u});var a=t(60687),n=t(43210),l=t(8730),s=t(27605),i=t(4780),o=t(80013);let d=s.Op,c=n.createContext({}),u=({...e})=>(0,a.jsx)(c.Provider,{value:{name:e.name},children:(0,a.jsx)(s.xI,{...e})}),m=()=>{let e=n.useContext(c),r=n.useContext(p),{getFieldState:t,formState:a}=(0,s.xW)(),l=t(e.name,a);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=r;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...l}},p=n.createContext({}),f=n.forwardRef(({className:e,...r},t)=>{let l=n.useId();return(0,a.jsx)(p.Provider,{value:{id:l},children:(0,a.jsx)("div",{ref:t,className:(0,i.cn)("space-y-2",e),...r})})});f.displayName="FormItem";let h=n.forwardRef(({className:e,...r},t)=>{let{error:n,formItemId:l}=m();return(0,a.jsx)(o.J,{ref:t,className:(0,i.cn)(n&&"text-destructive",e),htmlFor:l,...r})});h.displayName="FormLabel";let x=n.forwardRef(({...e},r)=>{let{error:t,formItemId:n,formDescriptionId:s,formMessageId:i}=m();return(0,a.jsx)(l.DX,{ref:r,id:n,"aria-describedby":t?`${s} ${i}`:`${s}`,"aria-invalid":!!t,...e})});x.displayName="FormControl";let g=n.forwardRef(({className:e,...r},t)=>{let{formDescriptionId:n}=m();return(0,a.jsx)("p",{ref:t,id:n,className:(0,i.cn)("text-sm text-muted-foreground",e),...r})});g.displayName="FormDescription";let j=n.forwardRef(({className:e,children:r,...t},n)=>{let{error:l,formMessageId:s}=m(),o=l?String(l?.message??""):r;return o?(0,a.jsx)("p",{ref:n,id:s,className:(0,i.cn)("text-sm font-medium text-destructive",e),...t,children:o}):null});j.displayName="FormMessage"},80013:(e,r,t)=>{t.d(r,{J:()=>d});var a=t(60687),n=t(43210),l=t(78148),s=t(24224),i=t(4780);let o=(0,s.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=n.forwardRef(({className:e,...r},t)=>(0,a.jsx)(l.b,{ref:t,className:(0,i.cn)(o(),e),...r}));d.displayName=l.b.displayName},83721:(e,r,t)=>{t.d(r,{Z:()=>n});var a=t(43210);function n(e){let r=a.useRef({value:e,previous:e});return a.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}},90647:(e,r,t)=>{t.d(r,{Oe:()=>u,Oh:()=>s,Zt:()=>d,cQ:()=>c,j9:()=>o,k9:()=>i});var a=t(36464);let n=()=>a.uF,l=e=>{},s=async()=>Promise.resolve(n()),i=async()=>(await s()).filter(e=>e.isActive).sort((e,r)=>e.order-r.order),o=async e=>(await s()).find(r=>r.id===e)||null,d=async e=>{let r=await s(),t={...e,id:`banner-${Date.now()}-${Math.random().toString(36).substring(2,9)}`};return l([...r,t]),t},c=async(e,r)=>{let t=await s(),a=t.findIndex(r=>r.id===e);return -1===a?null:(t[a]={...t[a],...r},l(t),t[a])},u=async e=>{let r=await s(),t=r.filter(r=>r.id!==e);return r.length!==t.length&&(l(t),!0)}}};