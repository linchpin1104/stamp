(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8828],{22346:(e,s,t)=>{"use strict";t.d(s,{w:()=>i});var r=t(95155),n=t(12115),l=t(87489),a=t(59434);let i=n.forwardRef((e,s)=>{let{className:t,orientation:n="horizontal",decorative:i=!0,...o}=e;return(0,r.jsx)(l.b,{ref:s,decorative:i,orientation:n,className:(0,a.cn)("shrink-0 bg-border","horizontal"===n?"h-[1px] w-full":"h-full w-[1px]",t),...o})});i.displayName=l.b.displayName},26134:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>N});var r=t(95155),n=t(12115),l=t(35695),a=t(6874),i=t.n(a),o=t(30285),c=t(66695),d=t(12543),u=t(93223),m=t(58127),x=t(24371),h=t(25711),f=t(87481),p=t(22346),j=t(59434),g=t(39022);function N(){let{slug:e,weekId:s,quizId:t}=(0,l.useParams)(),a=(0,l.useRouter)(),{toast:N}=(0,f.dj)(),[w,v]=(0,n.useState)(null),[b,y]=(0,n.useState)(null),[k,A]=(0,n.useState)(null),[q,S]=(0,n.useState)(null),[z,C]=(0,n.useState)(null),[E,O]=(0,n.useState)(null),[R,_]=(0,n.useState)(!0),[Q,I]=(0,n.useState)([]),[P,$]=(0,n.useState)(0),[X,B]=(0,n.useState)(!1),[F,T]=(0,n.useState)(null),[W,Z]=(0,n.useState)(!1),[Y,L]=(0,n.useState)(null);(0,n.useEffect)(()=>{"string"==typeof e?v(e):v(null)},[e]),(0,n.useEffect)(()=>{"string"==typeof s?y(s):y(null)},[s]),(0,n.useEffect)(()=>{"string"==typeof t?A(t):A(null)},[t]),(0,n.useEffect)(()=>{let e=localStorage.getItem("userProfile");if(e)try{L(JSON.parse(e))}catch(e){console.error("Failed to parse userProfile from localStorage",e),L(g._o)}else L(g._o)},[]),(0,n.useEffect)(()=>{let r=async()=>{if(!w||!b||!k){_(!1);return}_(!0);let e=await (0,h.Z5)(w);if(e){var s,t;S(e);let r=null===(s=e.weeks)||void 0===s?void 0:s.find(e=>e.id===b);if(r){C(r);let e=null===(t=r.learningElements)||void 0===t?void 0:t.find(e=>"ox_quiz"===e.type&&e.id===k);e&&"ox_quiz"===e.type?O(e.content):(N({title:"Error",description:"O/X Quiz not found in this week.",variant:"destructive"}),O(null))}else N({title:"Error",description:"Week not found.",variant:"destructive"}),C(null)}else N({title:"Error",description:"Program not found.",variant:"destructive"}),S(null);_(!1)};w&&b&&k?r():(null===e||null===s||null===t)&&_(!1)},[w,b,k,N,e,s,t]);let J=null==E?void 0:E.questions[P],D=e=>{J&&T(e)},V=(0,n.useCallback)(()=>{if(!E||!Y||0===Q.length&&E.questions.length>0){B(!0);return}let e={...Y,oxQuizResponses:{...Y.oxQuizResponses||{},[E.id]:Q}};localStorage.setItem("userProfile",JSON.stringify(e)),L(e),N({title:"Quiz Responses Saved",description:"Your quiz results have been recorded."}),B(!0)},[E,Y,Q,N]);if(R||!Y)return(0,r.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,r.jsx)("p",{children:"Loading quiz..."})});if(!E||!q||!z)return(0,r.jsxs)("div",{className:"text-center py-10",children:[(0,r.jsx)("h1",{className:"text-2xl font-semibold",children:"Quiz Not Found"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"The O/X Quiz you are looking for does not exist or could not be loaded."}),(0,r.jsx)(o.$,{asChild:!0,variant:"link",className:"mt-4",children:(0,r.jsxs)(i(),{href:w&&b?"/programs/".concat(w,"/week/").concat(b):w?"/programs/".concat(w):"/programs",children:[(0,r.jsx)(d.A,{className:"mr-2 h-4 w-4"})," Back to Program/Week"]})})]});if(X){let e=0;E.questions.forEach(s=>{let t=Q.find(e=>e.questionId===s.id);t&&t.userAnswer===s.correctAnswer&&e++});let s=E.questions.length>0?e/E.questions.length*100:0;return(0,r.jsxs)("div",{className:"space-y-6 max-w-2xl mx-auto",children:[(0,r.jsx)(o.$,{variant:"outline",size:"sm",asChild:!0,children:(0,r.jsxs)(i(),{href:w&&b?"/programs/".concat(w,"/week/").concat(b):w?"/programs/".concat(w):"/programs",children:[(0,r.jsx)(d.A,{className:"mr-2 h-4 w-4"})," Back to Week Content"]})}),(0,r.jsxs)(c.Zp,{className:"shadow-xl",children:[(0,r.jsxs)(c.aR,{className:"text-center",children:[(0,r.jsx)(u.A,{className:"h-12 w-12 text-primary mx-auto mb-3"}),(0,r.jsxs)(c.ZB,{className:"text-2xl text-primary",children:["Quiz Results: ",E.title]})]}),(0,r.jsxs)(c.Wu,{className:"space-y-4",children:[(0,r.jsxs)("p",{className:"text-lg font-semibold text-center",children:["You answered ",e," out of ",E.questions.length," questions correctly. (",s.toFixed(0),"%)"]}),(0,r.jsx)(p.w,{}),(0,r.jsx)("h3",{className:"text-md font-semibold text-primary",children:"Review Your Answers:"}),E.questions.map((e,s)=>{let t=Q.find(s=>s.questionId===e.id),n=(null==t?void 0:t.userAnswer)===e.correctAnswer;return(0,r.jsxs)(c.Zp,{className:(0,j.cn)("p-3",n?"bg-green-50 border-green-200":"bg-red-50 border-red-200"),children:[(0,r.jsxs)("p",{className:"font-medium",children:[s+1,". ",e.statement]}),(0,r.jsxs)("p",{className:"text-sm",children:["Your answer: ",(0,r.jsx)("span",{className:"font-semibold",children:(null==t?void 0:t.userAnswer)?"O (True)":"X (False)"})]}),(0,r.jsxs)("p",{className:"text-sm",children:["Correct answer: ",(0,r.jsx)("span",{className:"font-semibold",children:e.correctAnswer?"O (True)":"X (False)"}),n?(0,r.jsx)(m.A,{className:"inline ml-1 h-4 w-4 text-green-600"}):(0,r.jsx)(x.A,{className:"inline ml-1 h-4 w-4 text-red-600"})]}),e.explanation&&(0,r.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["Explanation: ",e.explanation]})]},e.id)})]}),(0,r.jsx)(c.wL,{children:(0,r.jsxs)(o.$,{onClick:()=>a.push(w&&b?"/programs/".concat(w,"/week/").concat(b):w?"/programs/".concat(w):"/programs"),className:"w-full",children:[(0,r.jsx)(m.A,{className:"mr-2 h-4 w-4"})," Done"]})})]})]})}return J?(0,r.jsxs)("div",{className:"space-y-6 max-w-2xl mx-auto",children:[(0,r.jsx)(o.$,{variant:"outline",size:"sm",asChild:!0,children:(0,r.jsxs)(i(),{href:w&&b?"/programs/".concat(w,"/week/").concat(b):w?"/programs/".concat(w):"/programs",children:[(0,r.jsx)(d.A,{className:"mr-2 h-4 w-4"})," Back to Week Content"]})}),(0,r.jsxs)(c.Zp,{className:"shadow-xl",children:[(0,r.jsxs)(c.aR,{children:[(0,r.jsx)(c.ZB,{className:"text-2xl text-primary",children:E.title}),E.description&&(0,r.jsx)(c.BT,{children:E.description}),(0,r.jsxs)("p",{className:"text-sm text-muted-foreground pt-2",children:["Question ",P+1," of ",E.questions.length]})]}),(0,r.jsxs)(c.Wu,{className:"space-y-6",children:[(0,r.jsx)("div",{className:"p-4 border rounded-md bg-secondary/10 min-h-[100px] flex items-center justify-center",children:(0,r.jsx)("p",{className:"text-lg font-medium text-center text-foreground/90",children:J.statement})}),W?(0,r.jsxs)("div",{className:"p-4 rounded-md text-center",children:[F===J.correctAnswer?(0,r.jsxs)("div",{className:"text-green-600",children:[(0,r.jsx)(m.A,{className:"h-10 w-10 mx-auto mb-2"}),(0,r.jsx)("p",{className:"font-semibold text-lg",children:"Correct!"})]}):(0,r.jsxs)("div",{className:"text-red-600",children:[(0,r.jsx)(x.A,{className:"h-10 w-10 mx-auto mb-2"}),(0,r.jsx)("p",{className:"font-semibold text-lg",children:"Incorrect."}),(0,r.jsxs)("p",{className:"text-sm",children:["The correct answer was: ",J.correctAnswer?"O (True)":"X (False)"]})]}),J.explanation&&(0,r.jsx)("p",{className:"text-sm text-muted-foreground mt-3 bg-muted/50 p-2 rounded",children:J.explanation})]}):(0,r.jsxs)("div",{className:"flex justify-around items-center pt-4",children:[(0,r.jsx)(o.$,{onClick:()=>D(!0),variant:!0===F?"default":"outline",size:"lg",className:(0,j.cn)("text-2xl w-24 h-24 rounded-full shadow-md transition-all transform hover:scale-105",!0===F&&"bg-primary text-primary-foreground ring-2 ring-primary ring-offset-2"),children:"O"}),(0,r.jsx)(o.$,{onClick:()=>D(!1),variant:!1===F?"default":"outline",size:"lg",className:(0,j.cn)("text-2xl w-24 h-24 rounded-full shadow-md transition-all transform hover:scale-105",!1===F&&"bg-destructive text-destructive-foreground ring-2 ring-destructive ring-offset-2"),children:"X"})]})]}),(0,r.jsx)(c.wL,{className:"flex justify-end",children:W?(0,r.jsx)(o.$,{onClick:()=>{P<((null==E?void 0:E.questions.length)||0)-1?($(e=>e+1),T(null),Z(!1)):V()},children:P<E.questions.length-1?"Next Question":"View Results"}):(0,r.jsx)(o.$,{onClick:()=>{if(null===F||!J){N({title:"No Answer",description:"Please select O or X.",variant:"destructive"});return}I(e=>[...e,{questionId:J.id,userAnswer:F}]),Z(!0)},disabled:null===F,children:"Submit Answer"})})]})]}):(0,r.jsx)("div",{className:"text-center py-10",children:(0,r.jsx)("p",{children:"Error: No current question to display."})})}},34032:(e,s,t)=>{Promise.resolve().then(t.bind(t,26134))}},e=>{var s=s=>e(e.s=s);e.O(0,[2992,9855,5769,6874,1509,1174,6185,5916,9127,8441,1684,7358],()=>s(34032)),_N_E=e.O()}]);