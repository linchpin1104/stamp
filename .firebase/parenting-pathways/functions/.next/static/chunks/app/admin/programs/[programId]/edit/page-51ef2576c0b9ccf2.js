(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3361],{17313:(e,a,t)=>{"use strict";t.d(a,{Xi:()=>c,av:()=>d,j7:()=>o,tU:()=>l});var s=t(95155),r=t(12115),i=t(60704),n=t(59434);let l=i.bL,o=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(i.B8,{ref:a,className:(0,n.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...r})});o.displayName=i.B8.displayName;let c=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(i.l9,{ref:a,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...r})});c.displayName=i.l9.displayName;let d=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(i.UC,{ref:a,className:(0,n.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...r})});d.displayName=i.UC.displayName},18271:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(40157).A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},47071:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>b});var s=t(95155),r=t(12115),i=t(35695),n=t(6874),l=t.n(n),o=t(18539),c=t(52623),d=t(30285),u=t(66695),m=t(17313),f=t(12543),g=t(18271),h=t(60960),p=t(34301),x=t(87481),v=t(25711);let j=e=>e.toLowerCase().replace(/\s+/g,"-").replace(/[^\w-]+/g,"");function b(){let e=(0,i.useRouter)(),{programId:a}=(0,i.useParams)(),{toast:t}=(0,x.dj)(),[n,b]=(0,r.useState)(null),[w,y]=(0,r.useState)(null),[N,k]=(0,r.useState)(!0),[C,D]=(0,r.useState)("details");(0,r.useEffect)(()=>{"string"==typeof a?b(a):b(null)},[a]),(0,r.useEffect)(()=>{n&&(async()=>{k(!0);let a=await (0,v.HD)(n);a?y(a):(t({title:"Error",description:"Program not found.",variant:"destructive"}),e.push("/admin/programs")),k(!1)})()},[n,e,t]);let E=async e=>{if(!w||!n)return;let a={title:e.title,slug:e.slug||j(e.title),description:e.description,longDescription:e.longDescription,imageUrl:e.imageUrl||w.imageUrl,targetAudience:e.targetAudience,tags:e.tagsString?e.tagsString.split(",").map(e=>e.trim()).filter(e=>e):w.tags||[],companySpecificDocuments:e.companySpecificDocuments||w.companySpecificDocuments||[]};await (0,v.El)(n,a)?(y(e=>e?{...e,...a}:null),t({title:"Program Updated",description:"Program details saved successfully."})):t({title:"Error",description:"Failed to update program.",variant:"destructive"})},A=async e=>{if(!w||!n)return;let a=(w.weeks||[]).filter(a=>a.id!==e),s={...w,weeks:a};await (0,v.El)(n,{weeks:a})?(y(s),t({title:"Week Deleted",description:"The week has been removed from the program."})):t({title:"Error",description:"Could not update program to delete week.",variant:"destructive"})};return N?(0,s.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,s.jsx)("p",{children:"Loading program details..."})}):w?(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("div",{className:"flex items-center justify-start",children:(0,s.jsx)(d.$,{variant:"outline",size:"sm",asChild:!0,children:(0,s.jsxs)(l(),{href:"/admin/programs",children:[(0,s.jsx)(f.A,{className:"mr-2 h-4 w-4"}),"Back to All Programs"]})})}),(0,s.jsxs)("header",{className:"pb-4 border-b",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold tracking-tight text-primary",children:"Manage Program"}),(0,s.jsxs)("p",{className:"text-muted-foreground",children:["Edit details and manage weeks for: ",(0,s.jsx)("span",{className:"font-semibold text-foreground",children:w.title})]})]}),(0,s.jsxs)(m.tU,{value:C,onValueChange:D,className:"w-full",children:[(0,s.jsxs)(m.j7,{className:"grid w-full grid-cols-2 md:grid-cols-2",children:[(0,s.jsxs)(m.Xi,{value:"details",children:[(0,s.jsx)(g.A,{className:"mr-2 h-4 w-4"}),"Program Details"]}),(0,s.jsxs)(m.Xi,{value:"weeks",children:[(0,s.jsx)(h.A,{className:"mr-2 h-4 w-4"}),"Manage Weeks & Content"]})]}),(0,s.jsx)(m.av,{value:"details",className:"mt-6",children:(0,s.jsxs)(u.Zp,{className:"shadow-lg",children:[(0,s.jsxs)(u.aR,{children:[(0,s.jsx)(u.ZB,{className:"text-xl",children:"Edit Program Information"}),(0,s.jsx)(u.BT,{children:"Modify the core details and company-specific documents for this program."})]}),(0,s.jsx)(u.Wu,{children:(0,s.jsx)(o.L,{initialData:w,onSubmit:E})})]})}),(0,s.jsx)(m.av,{value:"weeks",className:"mt-6",children:(0,s.jsxs)(u.Zp,{className:"shadow-lg",children:[(0,s.jsxs)(u.aR,{className:"flex flex-row items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(u.ZB,{className:"text-xl",children:"Program Weeks & Content"}),(0,s.jsx)(u.BT,{children:"Organize the weekly curriculum and learning elements."})]}),(0,s.jsx)(d.$,{asChild:!0,className:"bg-accent hover:bg-accent/90 text-accent-foreground",children:(0,s.jsxs)(l(),{href:"/admin/programs/".concat(w.id,"/weeks/create"),children:[(0,s.jsx)(p.A,{className:"mr-2 h-5 w-5"})," Add New Week"]})})]}),(0,s.jsx)(u.Wu,{children:(0,s.jsx)(c._,{programId:w.id,data:w.weeks||[],onDeleteWeek:A})})]})})]})]}):(0,s.jsxs)("div",{className:"text-center py-10",children:["Program not found. ",(0,s.jsx)(l(),{href:"/admin/programs",className:"text-accent underline",children:"Go back"}),"."]})}},60704:(e,a,t)=>{"use strict";t.d(a,{B8:()=>R,UC:()=>S,bL:()=>A,l9:()=>P});var s=t(12115),r=t(85185),i=t(46081),n=t(89196),l=t(28905),o=t(63655),c=t(94315),d=t(5845),u=t(61285),m=t(95155),f="Tabs",[g,h]=(0,i.A)(f,[n.RG]),p=(0,n.RG)(),[x,v]=g(f),j=s.forwardRef((e,a)=>{let{__scopeTabs:t,value:s,onValueChange:r,defaultValue:i,orientation:n="horizontal",dir:l,activationMode:f="automatic",...g}=e,h=(0,c.jH)(l),[p,v]=(0,d.i)({prop:s,onChange:r,defaultProp:i});return(0,m.jsx)(x,{scope:t,baseId:(0,u.B)(),value:p,onValueChange:v,orientation:n,dir:h,activationMode:f,children:(0,m.jsx)(o.sG.div,{dir:h,"data-orientation":n,...g,ref:a})})});j.displayName=f;var b="TabsList",w=s.forwardRef((e,a)=>{let{__scopeTabs:t,loop:s=!0,...r}=e,i=v(b,t),l=p(t);return(0,m.jsx)(n.bL,{asChild:!0,...l,orientation:i.orientation,dir:i.dir,loop:s,children:(0,m.jsx)(o.sG.div,{role:"tablist","aria-orientation":i.orientation,...r,ref:a})})});w.displayName=b;var y="TabsTrigger",N=s.forwardRef((e,a)=>{let{__scopeTabs:t,value:s,disabled:i=!1,...l}=e,c=v(y,t),d=p(t),u=D(c.baseId,s),f=E(c.baseId,s),g=s===c.value;return(0,m.jsx)(n.q7,{asChild:!0,...d,focusable:!i,active:g,children:(0,m.jsx)(o.sG.button,{type:"button",role:"tab","aria-selected":g,"aria-controls":f,"data-state":g?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:u,...l,ref:a,onMouseDown:(0,r.m)(e.onMouseDown,e=>{i||0!==e.button||!1!==e.ctrlKey?e.preventDefault():c.onValueChange(s)}),onKeyDown:(0,r.m)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&c.onValueChange(s)}),onFocus:(0,r.m)(e.onFocus,()=>{let e="manual"!==c.activationMode;g||i||!e||c.onValueChange(s)})})})});N.displayName=y;var k="TabsContent",C=s.forwardRef((e,a)=>{let{__scopeTabs:t,value:r,forceMount:i,children:n,...c}=e,d=v(k,t),u=D(d.baseId,r),f=E(d.baseId,r),g=r===d.value,h=s.useRef(g);return s.useEffect(()=>{let e=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,m.jsx)(l.C,{present:i||g,children:t=>{let{present:s}=t;return(0,m.jsx)(o.sG.div,{"data-state":g?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":u,hidden:!s,id:f,tabIndex:0,...c,ref:a,style:{...e.style,animationDuration:h.current?"0s":void 0},children:s&&n})}})});function D(e,a){return"".concat(e,"-trigger-").concat(a)}function E(e,a){return"".concat(e,"-content-").concat(a)}C.displayName=k;var A=j,R=w,P=N,S=C},99829:(e,a,t)=>{Promise.resolve().then(t.bind(t,47071))}},e=>{var a=a=>e(e.s=a);e.O(0,[2992,9855,5769,6874,1509,1263,9764,1174,1859,5521,8782,9191,5916,9127,8849,9426,8441,1684,7358],()=>a(99829)),_N_E=e.O()}]);