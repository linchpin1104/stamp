(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8974],{11953:(e,r,t)=>{"use strict";t.d(r,{RollingBanner:()=>w});var s=t(95155),a=t(12115),l=t(6874),o=t.n(l),n=t(66766),i=t(65431),c=t(85005),d=t(12543),m=t(19968),u=t(59434),x=t(30285);let h=a.createContext(null);function g(){let e=a.useContext(h);if(!e)throw Error("useCarousel must be used within a <Carousel />");return e}let f=a.forwardRef((e,r)=>{let{orientation:t="horizontal",opts:l,setApi:o,plugins:n,className:i,children:d,...m}=e,[x,g]=(0,c.A)({...l,axis:"horizontal"===t?"x":"y"},n),[f,p]=a.useState(!1),[j,N]=a.useState(!1),b=a.useCallback(e=>{e&&(p(e.canScrollPrev()),N(e.canScrollNext()))},[]),v=a.useCallback(()=>{null==g||g.scrollPrev()},[g]),y=a.useCallback(()=>{null==g||g.scrollNext()},[g]),w=a.useCallback(e=>{"ArrowLeft"===e.key?(e.preventDefault(),v()):"ArrowRight"===e.key&&(e.preventDefault(),y())},[v,y]);return a.useEffect(()=>{g&&o&&o(g)},[g,o]),a.useEffect(()=>{if(g)return b(g),g.on("reInit",b),g.on("select",b),()=>{null==g||g.off("select",b)}},[g,b]),(0,s.jsx)(h.Provider,{value:{carouselRef:x,api:g,opts:l,orientation:t||((null==l?void 0:l.axis)==="y"?"vertical":"horizontal"),scrollPrev:v,scrollNext:y,canScrollPrev:f,canScrollNext:j},children:(0,s.jsx)("div",{ref:r,onKeyDownCapture:w,className:(0,u.cn)("relative",i),role:"region","aria-roledescription":"carousel",...m,children:d})})});f.displayName="Carousel";let p=a.forwardRef((e,r)=>{let{className:t,...a}=e,{carouselRef:l,orientation:o}=g();return(0,s.jsx)("div",{ref:l,className:"overflow-hidden",children:(0,s.jsx)("div",{ref:r,className:(0,u.cn)("flex","horizontal"===o?"-ml-4":"-mt-4 flex-col",t),...a})})});p.displayName="CarouselContent";let j=a.forwardRef((e,r)=>{let{className:t,...a}=e,{orientation:l}=g();return(0,s.jsx)("div",{ref:r,role:"group","aria-roledescription":"slide",className:(0,u.cn)("min-w-0 shrink-0 grow-0 basis-full","horizontal"===l?"pl-4":"pt-4",t),...a})});j.displayName="CarouselItem";let N=a.forwardRef((e,r)=>{let{className:t,variant:a="outline",size:l="icon",...o}=e,{orientation:n,scrollPrev:i,canScrollPrev:c}=g();return(0,s.jsxs)(x.$,{ref:r,variant:a,size:l,className:(0,u.cn)("absolute  h-8 w-8 rounded-full","horizontal"===n?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!c,onClick:i,...o,children:[(0,s.jsx)(d.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Previous slide"})]})});N.displayName="CarouselPrevious";let b=a.forwardRef((e,r)=>{let{className:t,variant:a="outline",size:l="icon",...o}=e,{orientation:n,scrollNext:i,canScrollNext:c}=g();return(0,s.jsxs)(x.$,{ref:r,variant:a,size:l,className:(0,u.cn)("absolute h-8 w-8 rounded-full","horizontal"===n?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!c,onClick:i,...o,children:[(0,s.jsx)(m.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Next slide"})]})});b.displayName="CarouselNext";var v=t(85805),y=t(66695);function w(){let[e,r]=a.useState([]),[t,l]=a.useState(!0),[c,d]=a.useState(),[u,h]=a.useState(0),[g,w]=a.useState(0);return(a.useEffect(()=>{(async()=>{l(!0),r(await (0,i.k9)()),l(!1)})()},[]),a.useEffect(()=>{c&&(w(c.scrollSnapList().length),h(c.selectedScrollSnap()+1),c.on("select",()=>{h(c.selectedScrollSnap()+1)}))},[c]),t)?(0,s.jsxs)("div",{className:"w-full aspect-[16/8.5] md:aspect-[16/6] bg-muted rounded-lg flex items-center justify-center",children:[" ",(0,s.jsx)("p",{className:"text-muted-foreground",children:"Loading banners..."})]}):0===e.length?(0,s.jsxs)("section",{className:"text-center py-12 bg-secondary/30 rounded-lg shadow-sm",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold tracking-tight text-primary sm:text-5xl md:text-6xl",children:"Welcome to Parenting Pathways"}),(0,s.jsx)("p",{className:"mt-6 max-w-2xl mx-auto text-lg leading-8 text-foreground/80",children:"Your journey to confident and joyful parenting starts here. Explore programs tailored to your child's age and your needs."}),(0,s.jsx)("div",{className:"mt-10 flex items-center justify-center gap-x-6",children:(0,s.jsx)(x.$,{size:"lg",asChild:!0,className:"bg-accent hover:bg-accent/90 text-accent-foreground",children:(0,s.jsx)(o(),{href:"/programs",children:"Explore All Programs"})})})]}):(0,s.jsxs)("section",{className:"relative w-full mb-12",children:[(0,s.jsxs)(f,{setApi:d,className:"w-full",plugins:[(0,v.A)({delay:5e3,stopOnInteraction:!0,stopOnMouseEnter:!0})],opts:{loop:!0},children:[(0,s.jsx)(p,{children:e.map(e=>(0,s.jsx)(j,{children:(0,s.jsx)(y.Zp,{className:"overflow-hidden rounded-lg shadow-xl border-none p-0",children:(0,s.jsxs)(y.Wu,{className:"relative aspect-[16/8.5] md:aspect-[16/6] p-0",children:[" ",(0,s.jsx)(n.default,{src:e.imageUrl,alt:e.title||"Banner ".concat(e.id),layout:"fill",objectFit:"cover",className:"brightness-75","data-ai-hint":"hero banner"}),(0,s.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-center p-6 bg-black/40 text-white",children:[e.title&&(0,s.jsxs)("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold mb-2 sm:mb-3 drop-shadow-lg",children:[" ",e.title]}),e.description&&(0,s.jsxs)("p",{className:"text-sm sm:text-base md:text-lg max-w-lg sm:max-w-xl mb-4 sm:mb-6 drop-shadow-md",children:[" ",e.description]}),e.linkUrl&&(0,s.jsx)(x.$,{size:"sm",asChild:!0,className:"bg-accent hover:bg-accent/90 text-accent-foreground text-xs",children:(0,s.jsxs)(o(),{href:e.linkUrl,children:["Learn More ",(0,s.jsx)(m.A,{className:"ml-2 h-4 w-4"})]})})]})]})})},e.id))}),(0,s.jsx)(N,{className:"absolute left-4 top-1/2 -translate-y-1/2 z-10 bg-background/50 hover:bg-background/80 text-foreground"}),(0,s.jsx)(b,{className:"absolute right-4 top-1/2 -translate-y-1/2 z-10 bg-background/50 hover:bg-background/80 text-foreground"})]}),e.length>1&&(0,s.jsx)("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex space-x-2 z-10",children:Array.from({length:g}).map((e,r)=>(0,s.jsx)("button",{onClick:()=>null==c?void 0:c.scrollTo(r),className:"h-2 w-2 rounded-full ".concat(u===r+1?"bg-primary scale-125":"bg-muted/50"," transition-all"),"aria-label":"Go to slide ".concat(r+1)},r))})]})}},24944:(e,r,t)=>{"use strict";t.d(r,{k:()=>n});var s=t(95155),a=t(12115),l=t(55863),o=t(59434);let n=a.forwardRef((e,r)=>{let{className:t,value:a,...n}=e;return(0,s.jsx)(l.bL,{ref:r,className:(0,o.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:(0,s.jsx)(l.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(a||0),"%)")}})})});n.displayName=l.bL.displayName},46214:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,6874,23)),Promise.resolve().then(t.bind(t,96577)),Promise.resolve().then(t.bind(t,11953))},65431:(e,r,t)=>{"use strict";t.d(r,{Oe:()=>u,Oh:()=>n,Zt:()=>d,cQ:()=>m,j9:()=>c,k9:()=>i});var s=t(39022);let a="mockBanners",l=()=>{let e=localStorage.getItem(a);if(!e)return localStorage.setItem(a,JSON.stringify(s.uF)),s.uF;try{return JSON.parse(e)}catch(e){return console.error("Error parsing banners from localStorage:",e),localStorage.setItem(a,JSON.stringify(s.uF)),s.uF}},o=e=>{localStorage.setItem(a,JSON.stringify(e))},n=async()=>Promise.resolve(l()),i=async()=>(await n()).filter(e=>e.isActive).sort((e,r)=>e.order-r.order),c=async e=>(await n()).find(r=>r.id===e)||null,d=async e=>{let r=await n(),t={...e,id:"banner-".concat(Date.now(),"-").concat(Math.random().toString(36).substring(2,9))};return o([...r,t]),t},m=async(e,r)=>{let t=await n(),s=t.findIndex(r=>r.id===e);return -1===s?null:(t[s]={...t[s],...r},o(t),t[s])},u=async e=>{let r=await n(),t=r.filter(r=>r.id!==e);return r.length!==t.length&&(o(t),!0)}},96577:(e,r,t)=>{"use strict";t.d(r,{ClientHomePage:()=>y});var s=t(95155),a=t(12115),l=t(39022),o=t(6874),n=t.n(o),i=t(66695),c=t(30285),d=t(24944),m=t(73158),u=t(87267),x=t(10469),h=t(66766);function g(e){let{user:r,activePrograms:t}=e,a=e=>{var s;return(null===(s=r.completedProgramIds)||void 0===s?void 0:s.includes(e))?100:45*!!t.some(r=>r.id===e)};return(0,s.jsx)("section",{className:"mb-12",children:(0,s.jsxs)(i.Zp,{className:"shadow-lg bg-gradient-to-br from-primary/10 via-background to-secondary/10",children:[(0,s.jsxs)(i.aR,{className:"pb-4",children:[(0,s.jsxs)(i.ZB,{className:"text-3xl font-bold text-primary",children:["Welcome back, ",r.name,"!"]}),(0,s.jsx)(i.BT,{className:"text-md text-muted-foreground",children:"Here's a quick look at your parenting journey."})]}),(0,s.jsxs)(i.Wu,{className:"space-y-6",children:[t.length>0?(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-xl font-semibold text-foreground mb-3",children:"Your Active Programs:"}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.slice(0,2).map(e=>(0,s.jsx)(i.Zp,{className:"bg-card/80 backdrop-blur-sm hover:shadow-md transition-shadow",children:(0,s.jsxs)(i.Wu,{className:"p-4 flex items-start space-x-3",children:[(0,s.jsx)(h.default,{src:e.imageUrl||"https://picsum.photos/seed/".concat(e.slug,"/100"),alt:e.title,width:80,height:60,className:"rounded-md object-cover aspect-[4/3]","data-ai-hint":"program small image"}),(0,s.jsxs)("div",{className:"flex-grow",children:[(0,s.jsx)(n(),{href:"/programs/".concat(e.slug),className:"hover:text-accent",children:(0,s.jsx)("h4",{className:"font-semibold text-md text-primary truncate",children:e.title})}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground mb-1 truncate",children:e.targetAudience}),(0,s.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,s.jsx)(d.k,{value:a(e.id),className:"h-1.5 w-full"}),(0,s.jsxs)("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:[a(e.id),"%"]})]}),(0,s.jsx)(c.$,{variant:"link",size:"sm",asChild:!0,className:"p-0 h-auto text-accent mt-1.5",children:(0,s.jsxs)(n(),{href:"/programs/".concat(e.slug),children:["Continue Program ",(0,s.jsx)(m.A,{className:"h-4 w-4 ml-1"})]})})]})]})},e.id))}),t.length>2&&(0,s.jsx)(c.$,{variant:"outline",size:"sm",asChild:!0,className:"mt-4",children:(0,s.jsx)(n(),{href:"/profile",children:"View All My Programs"})})]}):(0,s.jsxs)("div",{className:"text-center py-6",children:[(0,s.jsx)(u.A,{className:"h-12 w-12 text-primary mx-auto mb-3"}),(0,s.jsx)("p",{className:"text-muted-foreground mb-3",children:"You're not currently active in any programs."}),(0,s.jsx)(c.$,{asChild:!0,className:"bg-accent hover:bg-accent/90 text-accent-foreground",children:(0,s.jsx)(n(),{href:"/programs",children:"Explore Programs"})})]}),(0,s.jsx)("div",{className:"pt-4 border-t border-border/50",children:(0,s.jsx)(c.$,{variant:"ghost",asChild:!0,className:"text-foreground hover:text-accent",children:(0,s.jsxs)(n(),{href:"/profile",children:[(0,s.jsx)(x.A,{className:"mr-2 h-5 w-5"}),"Go to My Full Dashboard"]})})})]})]})})}var f=t(60777),p=t(26126),j=t(19968);function N(e){let{program:r}=e;return(0,s.jsxs)(i.Zp,{className:"flex flex-col h-full overflow-hidden shadow-lg hover:shadow-xl transition-shadow duration-300 rounded-lg",children:[(0,s.jsx)(i.aR,{className:"p-0 relative",children:(0,s.jsx)(n(),{href:"/programs/".concat(r.slug),"aria-label":"View program: ".concat(r.title),children:(0,s.jsx)(h.default,{src:r.imageUrl,alt:r.title,width:400,height:250,className:"w-full h-48 object-cover","data-ai-hint":"program theme image"})})}),(0,s.jsxs)(i.Wu,{className:"p-6 flex-grow",children:[(0,s.jsx)(n(),{href:"/programs/".concat(r.slug),className:"hover:text-accent transition-colors",children:(0,s.jsx)(i.ZB,{className:"text-xl font-semibold mb-2 leading-tight",children:r.title})}),(0,s.jsx)(i.BT,{className:"text-sm text-muted-foreground mb-3 line-clamp-3",children:r.description}),(0,s.jsx)("div",{className:"text-xs text-foreground/70 mb-3",children:r.targetAudience}),r.tags&&r.tags.length>0&&(0,s.jsx)("div",{className:"flex flex-wrap gap-1 mb-3",children:r.tags.slice(0,3).map(e=>(0,s.jsx)(p.E,{variant:"secondary",className:"text-xs",children:e},e))})]}),(0,s.jsx)(i.wL,{className:"p-6 pt-0",children:(0,s.jsx)(c.$,{asChild:!0,className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground",children:(0,s.jsxs)(n(),{href:"/programs/".concat(r.slug),children:["View Program ",(0,s.jsx)(j.A,{className:"ml-2 h-4 w-4"})]})})})]})}var b=t(53941),v=t(83343);function y(e){let{recommendedPrograms:r}=e,[t,o]=(0,a.useState)(null),[n,i]=(0,a.useState)([]),[c,d]=(0,a.useState)(!0),m=e=>{o(e),localStorage.setItem("userProfile",JSON.stringify(e)),localStorage.setItem("userName",e.name),localStorage.setItem("userEmail",e.email),e.phoneNumber?localStorage.setItem("userPhoneNumber",e.phoneNumber):localStorage.removeItem("userPhoneNumber")};return((0,a.useEffect)(()=>{(()=>{d(!0);try{let e=localStorage.getItem("userProfile"),t="true"===localStorage.getItem("isAuthenticated"),s=null;if(t&&e)try{s=JSON.parse(e)}catch(e){console.error("Failed to parse userProfile from localStorage",e)}else t&&(s={...l._o,name:localStorage.getItem("userName")||l._o.name,email:localStorage.getItem("userEmail")||l._o.email,phoneNumber:localStorage.getItem("userPhoneNumber")||l._o.phoneNumber,moodLog:[]},m(s));if(s&&!s.moodLog&&(s.moodLog=[],m(s)),o(s),s&&r.length>0){let e=r.filter(e=>{var r,t;return!(!e.id||(null===(r=s.programCompletions)||void 0===r?void 0:r.some(r=>r.programId===e.id)))&&!!(null===(t=s.registeredVouchers)||void 0===t?void 0:t.find(r=>r.programId===e.id&&(0,b.d)((0,v.H)(r.accessExpiresDate),new Date)))});i(e)}else i([])}catch(e){console.error("Failed to load user data:",e)}finally{d(!1)}})()},[r]),c)?(0,s.jsx)("div",{className:"flex justify-center items-center min-h-[20rem]",children:(0,s.jsx)("p",{className:"text-muted-foreground text-lg",children:"Loading your profile..."})}):(0,s.jsxs)(s.Fragment,{children:[t&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(g,{user:t,activePrograms:n}),(0,s.jsx)(f.V,{currentUser:t,onMoodSaved:m})]}),(0,s.jsxs)("section",{children:[(0,s.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,s.jsx)("h2",{className:"text-3xl font-semibold tracking-tight text-primary",children:t?"Other Programs You Might Like":"Recommended for You"})}),r.length>0?(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:r.map(e=>e.id&&(0,s.jsx)(N,{program:e},e.id))}):(0,s.jsx)("p",{className:"text-muted-foreground",children:"No programs currently recommended. Please check back later or update your profile."})]})]})}}},e=>{var r=r=>e(e.s=r);e.O(0,[5769,6874,1509,1263,9764,1859,3063,5141,5916,7382,8441,1684,7358],()=>r(46214)),_N_E=e.O()}]);