(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6578],{3561:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(40157).A)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},10228:(e,t,r)=>{Promise.resolve().then(r.bind(r,79002))},17607:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(40157).A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},26126:(e,t,r)=>{"use strict";r.d(t,{E:()=>o});var a=r(95155);r(12115);var s=r(74466),l=r(59434);let n=(0,s.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o(e){let{className:t,variant:r,...s}=e;return(0,a.jsx)("div",{className:(0,l.cn)(n({variant:r}),t),...s})}},34301:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(40157).A)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])},44838:(e,t,r)=>{"use strict";r.d(t,{DropdownMenu:()=>c,DropdownMenuContent:()=>m,DropdownMenuItem:()=>f,DropdownMenuLabel:()=>p,DropdownMenuSeparator:()=>x,DropdownMenuTrigger:()=>u});var a=r(95155),s=r(12115),l=r(48698),n=r(73158),o=r(10518),d=r(70154),i=r(59434);let c=l.bL,u=l.l9;l.YJ,l.ZL,l.Pb,l.z6,s.forwardRef((e,t)=>{let{className:r,inset:s,children:o,...d}=e;return(0,a.jsxs)(l.ZP,{ref:t,className:(0,i.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",s&&"pl-8",r),...d,children:[o,(0,a.jsx)(n.A,{className:"ml-auto"})]})}).displayName=l.ZP.displayName,s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(l.G5,{ref:t,className:(0,i.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...s})}).displayName=l.G5.displayName;let m=s.forwardRef((e,t)=>{let{className:r,sideOffset:s=4,...n}=e;return(0,a.jsx)(l.ZL,{children:(0,a.jsx)(l.UC,{ref:t,sideOffset:s,className:(0,i.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...n})})});m.displayName=l.UC.displayName;let f=s.forwardRef((e,t)=>{let{className:r,inset:s,...n}=e;return(0,a.jsx)(l.q7,{ref:t,className:(0,i.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",s&&"pl-8",r),...n})});f.displayName=l.q7.displayName,s.forwardRef((e,t)=>{let{className:r,children:s,checked:n,...d}=e;return(0,a.jsxs)(l.H_,{ref:t,className:(0,i.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),checked:n,...d,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(l.VF,{children:(0,a.jsx)(o.A,{className:"h-4 w-4"})})}),s]})}).displayName=l.H_.displayName,s.forwardRef((e,t)=>{let{className:r,children:s,...n}=e;return(0,a.jsxs)(l.hN,{ref:t,className:(0,i.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...n,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(l.VF,{children:(0,a.jsx)(d.A,{className:"h-2 w-2 fill-current"})})}),s]})}).displayName=l.hN.displayName;let p=s.forwardRef((e,t)=>{let{className:r,inset:s,...n}=e;return(0,a.jsx)(l.JU,{ref:t,className:(0,i.cn)("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",r),...n})});p.displayName=l.JU.displayName;let x=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(l.wv,{ref:t,className:(0,i.cn)("-mx-1 my-1 h-px bg-muted",r),...s})});x.displayName=l.wv.displayName},62523:(e,t,r)=>{"use strict";r.d(t,{p:()=>n});var a=r(95155),s=r(12115),l=r(59434);let n=s.forwardRef((e,t)=>{let{className:r,type:s,...n}=e;return(0,a.jsx)("input",{type:s,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...n})});n.displayName="Input"},77223:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(40157).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},79002:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>M});var a=r(95155),s=r(12115),l=r(6874),n=r.n(l),o=r(30285),d=r(34301),i=r(36268),c=r(11032),u=r(85127),m=r(62523),f=r(26126),p=r(27150),x=r(3561),g=r(17607),h=r(81008),y=r(77223),v=r(44838),b=r(35695);let j=e=>[{accessorKey:"title",header:e=>{let{column:t}=e;return(0,a.jsxs)(o.$,{variant:"ghost",onClick:()=>t.toggleSorting("asc"===t.getIsSorted()),children:["Title",(0,a.jsx)(p.A,{className:"ml-2 h-4 w-4"})]})},cell:e=>{let{row:t}=e;return(0,a.jsx)("div",{className:"font-medium",children:t.getValue("title")})}},{accessorKey:"slug",header:"Slug"},{accessorKey:"targetAudience",header:"Target Audience",cell:e=>{let{row:t}=e;return(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:t.getValue("targetAudience")})}},{accessorKey:"weeks",header:"Weeks",cell:e=>{let{row:t}=e,r=t.getValue("weeks");return(0,a.jsx)(f.E,{variant:"secondary",children:(null==r?void 0:r.length)||0})}},{accessorKey:"tags",header:"Tags",cell:e=>{let{row:t}=e,r=t.getValue("tags");return r&&0!==r.length?(0,a.jsxs)("div",{className:"flex flex-wrap gap-1 max-w-xs",children:[r.slice(0,3).map(e=>(0,a.jsx)(f.E,{variant:"outline",className:"text-xs",children:e},e)),r.length>3&&(0,a.jsx)(f.E,{variant:"outline",className:"text-xs",children:"..."})]}):(0,a.jsx)("span",{className:"text-muted-foreground",children:"-"})}},{id:"actions",cell:t=>{let{row:r}=t,s=r.original,l=(0,b.useRouter)();return(0,a.jsxs)(v.DropdownMenu,{children:[(0,a.jsx)(v.DropdownMenuTrigger,{asChild:!0,children:(0,a.jsxs)(o.$,{variant:"ghost",className:"h-8 w-8 p-0",children:[(0,a.jsx)("span",{className:"sr-only",children:"Open menu"}),(0,a.jsx)(x.A,{className:"h-4 w-4"})]})}),(0,a.jsxs)(v.DropdownMenuContent,{align:"end",children:[(0,a.jsx)(v.DropdownMenuLabel,{children:"Actions"}),(0,a.jsxs)(v.DropdownMenuItem,{onClick:()=>l.push("/programs/".concat(s.slug)),className:"cursor-pointer",children:[(0,a.jsx)(g.A,{className:"mr-2 h-4 w-4"})," View Public Page"]}),(0,a.jsxs)(v.DropdownMenuItem,{onClick:()=>l.push("/admin/programs/".concat(s.id,"/edit")),className:"cursor-pointer",children:[(0,a.jsx)(h.A,{className:"mr-2 h-4 w-4"})," Manage Program"]}),(0,a.jsx)(v.DropdownMenuSeparator,{}),(0,a.jsxs)(v.DropdownMenuItem,{onClick:()=>{confirm("Are you sure you want to delete program: ".concat(s.title,"? This action cannot be undone."))&&(null==e||e(s.id))},className:"text-destructive focus:text-destructive focus:bg-destructive/10 cursor-pointer",children:[(0,a.jsx)(y.A,{className:"mr-2 h-4 w-4"})," Delete"]})]})]})}}];function N(e){var t,r,l;let{data:n,onDeleteProgram:d}=e,[f,p]=s.useState([]),[x,g]=s.useState([]),h=s.useMemo(()=>j(d),[d]),y=(0,i.N4)({data:n,columns:h,getCoreRowModel:(0,c.HT)(),getPaginationRowModel:(0,c.kW)(),onSortingChange:p,getSortedRowModel:(0,c.h5)(),onColumnFiltersChange:g,getFilteredRowModel:(0,c.hM)(),state:{sorting:f,columnFilters:x}});return(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsx)("div",{className:"flex items-center py-4",children:(0,a.jsx)(m.p,{placeholder:"Filter programs by title...",value:null!==(l=null===(t=y.getColumn("title"))||void 0===t?void 0:t.getFilterValue())&&void 0!==l?l:"",onChange:e=>{var t;return null===(t=y.getColumn("title"))||void 0===t?void 0:t.setFilterValue(e.target.value)},className:"max-w-sm"})}),(0,a.jsx)("div",{className:"rounded-md border",children:(0,a.jsxs)(u.XI,{children:[(0,a.jsx)(u.A0,{children:y.getHeaderGroups().map(e=>(0,a.jsx)(u.Hj,{children:e.headers.map(e=>(0,a.jsx)(u.nd,{children:e.isPlaceholder?null:(0,i.Kv)(e.column.columnDef.header,e.getContext())},e.id))},e.id))}),(0,a.jsx)(u.BF,{children:(null===(r=y.getRowModel().rows)||void 0===r?void 0:r.length)?y.getRowModel().rows.map(e=>(0,a.jsx)(u.Hj,{"data-state":e.getIsSelected()&&"selected",children:e.getVisibleCells().map(e=>(0,a.jsx)(u.nA,{children:(0,i.Kv)(e.column.columnDef.cell,e.getContext())},e.id))},e.id)):(0,a.jsx)(u.Hj,{children:(0,a.jsx)(u.nA,{colSpan:h.length,className:"h-24 text-center",children:"No results."})})})]})}),(0,a.jsxs)("div",{className:"flex items-center justify-end space-x-2 py-4",children:[(0,a.jsx)(o.$,{variant:"outline",size:"sm",onClick:()=>y.previousPage(),disabled:!y.getCanPreviousPage(),children:"Previous"}),(0,a.jsx)(o.$,{variant:"outline",size:"sm",onClick:()=>y.nextPage(),disabled:!y.getCanNextPage(),children:"Next"})]})]})}var w=r(66695),k=r(87481),A=r(25711);function M(){let[e,t]=(0,s.useState)([]),[r,l]=(0,s.useState)(!0),{toast:i}=(0,k.dj)();(0,s.useEffect)(()=>{(async()=>{l(!0);try{let e=await (0,A.ub)();t(e)}catch(e){console.error("Error fetching programs from Firestore:",e),i({title:"Error",description:"Could not load programs. Please try again.",variant:"destructive"})}l(!1)})()},[i]);let c=async e=>{await (0,A.GD)(e)?(t(t=>t.filter(t=>t.id!==e)),i({title:"Program Deleted",description:"The program has been successfully deleted."})):i({title:"Error",description:"Failed to delete program. Please try again.",variant:"destructive"})};return r?(0,a.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,a.jsx)("p",{className:"text-muted-foreground",children:"Loading programs..."})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold tracking-tight text-primary",children:"Program Management"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"View, create, and manage all educational programs."})]}),(0,a.jsx)(o.$,{asChild:!0,className:"bg-accent hover:bg-accent/90 text-accent-foreground",children:(0,a.jsxs)(n(),{href:"/admin/programs/create",children:[(0,a.jsx)(d.A,{className:"mr-2 h-5 w-5"}),"Add New Program"]})})]}),(0,a.jsxs)(w.Zp,{className:"shadow-lg",children:[(0,a.jsxs)(w.aR,{children:[(0,a.jsx)(w.ZB,{children:"All Programs"}),(0,a.jsx)(w.BT,{children:"A list of all programs currently in the system."})]}),(0,a.jsx)(w.Wu,{children:(0,a.jsx)(N,{data:e,onDeleteProgram:c})})]})]})}},81008:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(40157).A)("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]])},85127:(e,t,r)=>{"use strict";r.d(t,{A0:()=>o,BF:()=>d,Hj:()=>i,XI:()=>n,nA:()=>u,nd:()=>c});var a=r(95155),s=r(12115),l=r(59434);let n=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:t,className:(0,l.cn)("w-full caption-bottom text-sm",r),...s})})});n.displayName="Table";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("thead",{ref:t,className:(0,l.cn)("[&_tr]:border-b",r),...s})});o.displayName="TableHeader";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("tbody",{ref:t,className:(0,l.cn)("[&_tr:last-child]:border-0",r),...s})});d.displayName="TableBody",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("tfoot",{ref:t,className:(0,l.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",r),...s})}).displayName="TableFooter";let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("tr",{ref:t,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...s})});i.displayName="TableRow";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("th",{ref:t,className:(0,l.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",r),...s})});c.displayName="TableHead";let u=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("td",{ref:t,className:(0,l.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",r),...s})});u.displayName="TableCell",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("caption",{ref:t,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",r),...s})}).displayName="TableCaption"}},e=>{var t=t=>e(e.s=t);e.O(0,[2992,9855,5769,6874,1509,1263,9764,1174,8782,9191,5916,9127,8441,1684,7358],()=>t(10228)),_N_E=e.O()}]);